# Window Resize — ユーザーマニュアル

## 目次

1. [初期設定](#初期設定)
2. [ウインドウのリサイズ](#ウインドウのリサイズ)
3. [設定](#設定)
4. [トラブルシューティング](#トラブルシューティング)

---

## 初期設定

### アクセシビリティ権限の付与

Window Resize は macOS のアクセシビリティ API を使用してウインドウをリサイズします。初回起動時に権限を付与する必要があります。

1. **Window Resize** を起動します。アクセシビリティへのアクセスを求めるシステムダイアログが表示されます。
2. **「設定を開く」** をクリックします（または手動で **システム設定 > プライバシーとセキュリティ > アクセシビリティ** を開きます）。
3. 一覧から **「Window Resize」** を見つけ、トグルをオンにします。
4. アプリに戻ると、メニューバーにアイコンが表示され、使用可能になります。

> **注意:** ダイアログが表示されない場合は、設定画面から直接アクセシビリティ設定を開くことができます（[アクセシビリティの状態](#アクセシビリティの状態) を参照）。

---

## ウインドウのリサイズ

### 操作手順

1. メニューバーの **Window Resize アイコン** をクリックします。
2. **「リサイズ」** にカーソルを合わせると、ウインドウ一覧が表示されます。
3. 現在開いているすべてのウインドウが **[アプリ名] ウインドウタイトル** の形式で一覧表示されます。
4. ウインドウにカーソルを合わせると、利用可能なプリセットサイズが表示されます。
5. サイズをクリックすると、ウインドウが即座にリサイズされます。

### サイズの表示形式

メニュー内の各サイズは以下のように表示されます。

```
1920 x 1080          Full HD
```

- **左側:** 幅 x 高さ（ピクセル単位）
- **右側:** ラベル（デバイス名または規格名）、グレーで表示

### 画面サイズを超えるプリセット

プリセットサイズがウインドウのあるディスプレイの解像度を超える場合、そのサイズは **グレーアウトされ選択できません**。これにより、ウインドウが画面の境界を超えてリサイズされることを防ぎます。

> **マルチディスプレイ対応:** アプリは各ウインドウがどのディスプレイにあるかを自動検出し、利用可能なサイズを適切に調整します。

---

## 設定

メニューバーの Window Resize アイコンをクリックし、**「設定...」** を選択して設定画面を開きます（ショートカット: **⌘,**）。

### 内蔵サイズ

アプリには 12 種類の内蔵プリセットサイズが含まれています。

| サイズ | ラベル |
|--------|--------|
| 2560 x 1600 | MacBook Pro 16" |
| 2560 x 1440 | QHD / iMac |
| 1728 x 1117 | MacBook Pro 14" |
| 1512 x 982 | MacBook Air 15" |
| 1470 x 956 | MacBook Air 13" M3 |
| 1440 x 900 | MacBook Air 13" |
| 1920 x 1080 | Full HD |
| 1680 x 1050 | WSXGA+ |
| 1280 x 800 | WXGA |
| 1280 x 720 | HD |
| 1024 x 768 | XGA |
| 800 x 600 | SVGA |

内蔵サイズは削除・編集できません。

### カスタムサイズ

独自のサイズを追加できます。

1. **「カスタム」** セクションで、**幅** と **高さ** をピクセル単位で入力します。
2. **「追加」** をクリックします。
3. 新しいサイズがカスタムリストに追加され、リサイズメニューですぐに使用可能になります。

カスタムサイズを削除するには、該当サイズの横にある赤い **「削除」** ボタンをクリックします。

> カスタムサイズは、リサイズメニューで内蔵サイズの後に表示されます。

### ログイン時に起動

**「ログイン時に起動」** をオンにすると、macOS にログインした際に Window Resize が自動的に起動します。

### スクリーンショット

**「リサイズ後にスクリーンショットを撮影」** をオンにすると、リサイズ完了後に自動的にウインドウをキャプチャします。

有効にすると、以下のオプションが利用可能になります。

- **ファイルに保存** — スクリーンショットを PNG ファイルとして保存します。有効にすると、保存先を選択できます。
  - **デスクトップ** — デスクトップフォルダに保存します。
  - **ピクチャ** — ピクチャフォルダに保存します。
- **クリップボードにコピー** — スクリーンショットをクリップボードにコピーし、他のアプリに貼り付けることができます。

両方のオプションは個別に有効にできます。たとえば、ファイルに保存せずにクリップボードにのみコピーすることも可能です。

> **注意:** スクリーンショット機能には **画面収録** の権限が必要です。この機能を初めて使用すると、macOS が **システム設定 > プライバシーとセキュリティ > 画面収録** で権限を付与するよう求めるダイアログを表示します。

### アクセシビリティの状態

設定画面の下部に、アクセシビリティ権限の現在の状態を示すインジケーターがあります。

| インジケーター | 意味 |
|----------------|------|
| 🟢 **アクセシビリティ：有効** | 権限が有効で、正常に動作しています。 |
| 🟠 **アクセシビリティ：更新が必要（設定でオフ→オンに切替）** | システム上は権限が付与されていますが、実際には無効になっています（[権限が無効になった場合の修復方法](#権限が無効になった場合の修復方法) を参照）。**「設定を開く」** ボタンが表示されます。 |
| 🔴 **アクセシビリティ：無効** | 権限が付与されていません。**「設定を開く」** ボタンが表示されます。 |

---

## トラブルシューティング

### 権限が無効になった場合の修復方法

オレンジ色のインジケーターや「アクセシビリティ：更新が必要」というメッセージが表示される場合、権限が古くなっています。これはアプリのアップデートや再ビルド後に発生することがあります。

**修復手順:**

1. **システム設定 > プライバシーとセキュリティ > アクセシビリティ** を開きます。
2. 一覧から **「Window Resize」** を見つけます。
3. トグルを **オフ** にしてから、再度 **オン** にします。
4. または、一覧から完全に削除してからアプリを再起動すると、再度追加できます。

### リサイズに失敗しました

「リサイズに失敗しました」というアラートが表示される場合、以下の原因が考えられます。

- 対象のアプリケーションがアクセシビリティによるリサイズに対応していない。
- ウインドウが **フルスクリーンモード** になっている（先にフルスクリーンを解除してください）。
- アクセシビリティ権限が有効でない（設定画面でステータスを確認してください）。

### ウインドウが一覧に表示されない

リサイズメニューには、以下の条件を満たすウインドウのみが表示されます。

- 現在画面上に表示されている
- デスクトップ要素でない（Finder のデスクトップなどは除外）
- Window Resize 自身のウインドウでない

Dock に最小化されたウインドウは一覧に表示されません。

### スクリーンショットが撮影されない

スクリーンショットがキャプチャされない場合は、以下を確認してください。

- **システム設定 > プライバシーとセキュリティ > 画面収録** で **画面収録** の権限を付与してください。
- **「ファイルに保存」** または **「クリップボードにコピー」** の少なくとも一方が有効になっていることを確認してください。
